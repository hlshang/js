<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="jquery.js"></script>
	<script src="common.js"></script>
	<script src="animator.js"></script>
	<script src="sprite.js"></script>
	<script src="load.js"></script>
	<style type="text/css">
	*{
		padding: 0;
		margin: 0
	}
	body{
		font-family: "微软雅黑"
	}
	.canvas-main{
		position: relative;
		width: 960px;
		margin:10px auto 0;
		border:1px solid #ccc;
		border-radius: 5px;
		background-color: #f5f5f5
	}
	#load-precent-nums{
		position: absolute;
		left:50%;
		top:50%;
		font-size: 14px;
		font-weight: bold;
		-webkit-transform:translate(-50%,0);
		transform:translate(-50%,0);
	}
	</style>
</head>
<body>
	<div class="canvas-main">
		<canvas id="myCanvas" width="960" height="560">
			Your browser do not support canvas!
		</canvas>
		<div id="load-precent-nums"></div>
	</div>
	<script>
		var canvas,context;

		var sourceList = [
					["bg.jpg"],
					["video.mp4"],
					["a.json"]
				],
		sourceObj = {
			"images":["bg.jpg","bg.jpg","bg.jpg"],
			"audio":["video.mp4"],
			"json":["a.json"]
		};
		document.addEventListener("DOMContentLoaded",function(){
			canvas = pb.init("myCanvas");
			context = canvas.getContext("2d"); 
			loadSources.init(sourceObj,function(){
				var stop = new AnimationTimer();
				stop.start();
				for(var i = 0;i < 1000;i++){
				}
				stop.stop();
			});
		},false)
		
	</script>
</body>
</html>